CREATE SCHEMA IF NOT EXISTS %%;

CREATE TABLE IF NOT EXISTS %%.task (
    id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    title VARCHAR(255) NOT NULL,
    deadline_date TIMESTAMP WITHOUT TIME ZONE NOT NULL,
    author VARCHAR(15) NOT NULL,
    status VARCHAR(15) NOT NULL,
    description VARCHAR(510) NOT NULL,
    created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT (NOW() AT TIME ZONE 'utc'),
    updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT (NOW() AT TIME ZONE 'utc')
);

CREATE INDEX idx_task_title ON %%.task (title);